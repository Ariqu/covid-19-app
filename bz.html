<!DOCTYPE html>
<html lang="pl" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>CORONAVIRUS Covid-19 [app by: J. Galan]</title>
  </head>

  <div id="demo"></div>

  <body>
 <script type="text/javascript">

	function showData(jsonResponse) {
    	console.log(jsonResponse);
    	for (var i = 0; i <= jsonResponse.length - 1; i++) {
    		console.log(jsonResponse[i]);
    		//dane dla polski
    		if(jsonResponse[i]['country'] == 'Poland') {
    			//console.log(jsonResponse[i]['country']);
    			document.getElementById("demo").innerHTML = '<b>Covid-19 statisctics for: '+jsonResponse[i]['country']+'</b><ul>\
    			<li>Cases: '+jsonResponse[i]['cases']+'</li>\
    			<li>Today Cases: '+jsonResponse[i]['todayCases']+'</li>\
    			<li>Deaths: '+jsonResponse[i]['deaths']+'</li>\
    			<li>Today deaths: '+jsonResponse[i]['todayDeaths']+'</li>\
    			<li>Recovered: '+jsonResponse[i]['recovered']+'</li>\
    			</ul>'
    		}
    		
    	}
    }

 	function getData() {
	    var xhr = new XMLHttpRequest();
	    xhr.onreadystatechange = function() {
	        if (xhr.readyState == XMLHttpRequest.DONE) {
	            //console.log(xhr.responseText);
	            var api = xhr.responseText;
	            //Tu jest zmiana JSON.parse
	            var jsonResponse = JSON.parse(api);
	            //console.log(jsonResponse);
	            showData(jsonResponse);
	        }
	    }
	    xhr.open('GET', 'https://coronavirus-19-api.herokuapp.com/countries', true);
	    xhr.send(null);
	}
	getData();
    /*
    function myFunction(xml) {	
        var xmlDoc = xml.responseXML;
        var x = xmlDoc.getElementsByTagName('country')[0];
        var y = x.childNodes[0];
        document.getElementById("demo").innerHTML =
        y.nodeValue;
        
    }
	myFunction()
	*/
</script>



  </body>
</html>
